<h1>Listado de consultas</h1>
<br>
  
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#Modal">
  Registrar
</button>
<table id="tablet1" >
    <thead>
      <tr>
        
        <th scope="col">Descripci√≥n</th>
        <th scope="col">Fecha</th>
        <th scope="col">Receta</th>
        <th scope="col">Doctor</th>
        <th scope="col">Paciente</th>
 
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let consulta of consultas">
        
        <td> {{consulta.descripcion}}   </td>  
        <td> {{ consulta.fecha | date: "dd/MM/yyyy"}}
        </td>  
        <td> {{consulta.receta}}   </td>  
        <td> {{consulta.doctor}}   </td>  
        <td> {{consulta.paciente}}   </td> 
        

      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="6"> 
        <div class="btn-group col-md-2 offset-md-5">
          <button 
          type="button"
          class="btn btm-sm btn-outline-secondary"
          *ngFor="let pag of pages"
          (click)="loadPag(pag)">
            {{pag}}
          </button>
        </div>       
        </td>
      </tr>
    </tfoot>
  </table>
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Registro de Consultas</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-group"> 
                <label for="fecha">FECHA</label> 
                <input type="text"    
                    value="consulta.fecha"                 
                    class="form-control" 
                    name="fecha" 
                    [(ngModel)]="consulta.fecha"
                    disabled>
            </div>
            <div class="form-group"> 
                <label for="descripcion">DESCRIPCION</label> 
                <input type="text" 
                    required minlength="3"             
                    class="form-control" 
                    name="descripcion" 
                    [(ngModel)]="consulta.descripcion" 
                    placeholder="Descripcion">
            </div>
            <div class="form-group"> 
                <label for="receta">RECETA</label> <br>
                   
                <textarea class="form-control"   
                          name="receta" 
                            [(ngModel)]="consulta.receta"                                      
                            rows="3"
                            place-holder="Receta">
                </textarea>          
            </div>  
            <div class="form-group">
              <label for="DoctorControlSelect">DOCTOR</label>
              <select class="form-control" name="DoctorSelect" id="DoctorControlSelect"  [(ngModel)]="consulta.iddoctor">
                <option [value]="doctor.iddoctor" *ngFor= "let doctor of doctores">{{doctor.nombre}} {{doctor.apellido}}</option>              
              </select>
            </div>    
            <div class="form-group">
              <label for="PacienteControlSelect">PACIENTE</label>
              <select class="form-control" name="PacienteSelect" id="PacienteControlSelect" [(ngModel)]="consulta.idpaciente">
                <option [value]="paciente.idpaciente" *ngFor= "let paciente of pacientes">{{paciente.nombre}} {{paciente.apellido}}</option>              
              </select>
            </div>                    
        </form> 
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="registrarConsulta()">Registrar</button>
        </div>
      </div>
    </div>
  </div>